<!doctype html><html lang=zh-cn><head><meta charset=utf-8><title>如何使用 Screenplay 模式编写 UI 测试用例？ - 磊磊落落</title>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=keywords content="Serenity BDD,Screenplay,剧本模式,Java,Selenium,自动化测试"><meta name=description content="本文首先会介绍 Screenplay 模式的基本概念；接着，以登录 GitHub 并在页面创建 Issue 为测试场景，来分析该场景中的操作者与行为分别对应 Screenplay 模式中的哪个部分；最后，针对该测试场景，使用 Serenity BDD 测试框架来编写满足 Screenplay 模式的测试用例。"><meta name=author content="磊磊落落"><meta name=generator content="Hugo 0.123.7"><link rel=stylesheet href=https://leileiluoluo.github.io/css/bootstrap.min.css><link rel=stylesheet href=https://leileiluoluo.github.io/css/themify-icons.css><link rel=stylesheet href=https://leileiluoluo.github.io/css/larry-custom-v1.3.css><link rel=stylesheet href=https://leileiluoluo.github.io/scss/style.min.css media=screen><link rel="shortcut icon" href=https://leileiluoluo.github.io/images/favicon.png type=image/x-icon><link rel=icon href=https://leileiluoluo.github.io/images/favicon.png type=image/x-icon><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?526723b767317055572c85bdb445353c",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><header class="fixed-top navigation"><div class=container><nav class="navbar navbar-expand-lg navbar-light bg-transparent"><a class=navbar-brand href=https://leileiluoluo.github.io/>磊磊落落</a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation>
<i class="ti-menu h3"></i></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/></a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/>计算机</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E9%9A%8F%E7%AC%94/>随笔</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E8%AF%BB%E4%B9%A6/>读书</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E8%A7%82%E5%BD%B1/>观影</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E7%BB%83%E5%AD%97/>练字</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/about>关于</a></li></ul><div class=search><button id=searchOpen class=search-btn><i class=ti-search></i></button><div class=search-wrapper><form action=https://leileiluoluo.github.io//search class=h-100><input class="search-box px-4" id=search-query name=s type=search placeholder=键入关键字后回车...></form><button id=searchClose class=search-close><i class="ti-close text-dark"></i></button></div></div></div></nav></div></header><div class="py-5 d-none d-lg-block"></div><section class=section><div class=container><div class=row><div class="col-lg-8 mx-auto block shadow mb-5"><h1>如何使用 Screenplay 模式编写 UI 测试用例？</h1><div class="mb-3 post-meta">2024年06月17日
<a href=/categories/%e8%ae%a1%e7%ae%97%e6%9c%ba>计算机</a></div><div class="content mb-5"><p>Screenplay 模式是一个用于软件测试的设计模式，本文探索如何使用 Screenplay 模式编写 Web UI 测试用例？</p><p>本文首先会介绍 Screenplay 模式的基本概念；接着，以登录 GitHub 并在页面创建 Issue 为测试场景，来分析该场景中的操作者与行为分别对应 Screenplay 模式中的哪个部分；最后，针对该测试场景，使用 Serenity BDD 测试框架来编写满足 Screenplay 模式的测试用例。</p><p>示例工程所使用的 JDK、Maven 与 Serenity BDD 版本如下：</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>JDK：Amazon Corretto 17.0.8
</span></span><span style=display:flex><span>Maven：3.9.2
</span></span><span style=display:flex><span>Serenity BDD：4.1.20
</span></span></code></pre></div><h2 id=1-什么是-screenplay-模式>1 什么是 Screenplay 模式？</h2><p>Screenplay 模式（Screenplay Pattern，剧本模式）是一个用于软件测试（特别是用于验收测试）中的设计模式。使用该模式可以帮助我们创建易于维护、可重用和可读性强的测试脚本。其核心概念与原则如下：</p><h3 id=11-核心概念>1.1 核心概念</h3><ul><li><p>演员（Actors）</p><p>代表与被测系统交互的用户或角色，使用具备的「能力（Abilities）」来执行任务，类似于真实用户与系统交互的方式。</p><p>例如：一个演员可能是一个电商网站的「用户」，执行登录、搜索商品、添加商品到购物车和下单等操作。</p></li><li><p>任务（Tasks）</p><p>封装演员可以执行的操作，为业务逻辑上层的动作或交互的表示。</p><p>例如：「搜索商品」和「添加商品到购物车」。</p></li><li><p>交互（Interactions）</p><p>演员为完成任务所执行的动作，为业务逻辑底层直接与 UI 或 API 交互的动作。</p><p>例如：「点击提交按钮」或「输入关键词到搜索框」。</p></li><li><p>问题（Questions）</p><p>用于查询应用程序的状态或验证结果。</p><p>例如：「用户是否已登录？」或「页面是否显示预期结果？」</p></li></ul><h3 id=12-原则>1.2 原则</h3><ul><li><p>关注点分离（Separation of Concerns）</p><p>通过将「谁」（演员）、「做什么」（任务）和「如何做」（交互）分离，Screenplay 模式促进了测试代码的清晰组织，提高了可维护性。</p></li><li><p>可重用性（Reusability）</p><p>任务和交互可以在不同的测试中重用，减少代码重复。</p></li><li><p>可读性（Readability）</p><p>测试以叙述风格编写，使其更容易理解。它们通常像剧本或故事一样，改善了与非技术利益相关者（Stakeholders）的沟通。</p></li></ul><p>由此可见，Screenplay 模式是一个强大的验收测试编写方法，尤其适用于复杂应用程序，借助其可以使得测试用例的可重用性、可维护性和可读性得到较大的提升。</p><blockquote><p>参考资料</p><p>[1] Serenity BDD: Your First Screenplay Scenario - <a href=https://serenity-bdd.github.io/docs/tutorials/screenplay>https://serenity-bdd.github.io/docs/tutorials/screenplay</a></p><p>[2] Serenity BDD: Screenplay Fundamentals - <a href=https://serenity-bdd.github.io/docs/screenplay/screenplay_fundamentals>https://serenity-bdd.github.io/docs/screenplay/screenplay_fundamentals</a></p></blockquote></div><div class=content-footer><div class=post-tags><a href=/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/>#自动化测试</a>
<a href=/tags/java/>#Java</a>
<a href=/tags/selenium/>#Selenium</a></div></div></div><div class="col-lg-8 mx-auto block shadow"><h3>相关文章</h3><ul><li><a href=/posts/how-to-perform-ui-testing-using-serenity-bdd.html>如何使用 Serenity BDD 进行 UI 测试？</a></li><li><a href=/posts/cucumber-java-spring-boot-integration.html>Cucumber Java 如何与 Spring Boot 进行集成？</a></li><li><a href=/posts/cucumber-java-dependency-injection-using-picocontainer.html>如何在 Cucumber Java 中使用 PicoContainer 进行依赖注入？</a></li><li><a href=/posts/how-to-perform-ui-testing-using-cucumber.html>如何使用 Cucumber Java 进行 UI 测试？</a></li><li><a href=/posts/cucumber-introduction.html>Cucumber 是什么？如何使用 Cucumber Java 进行 API 测试？</a></li></ul></div><div class="col-lg-8 mx-auto block shadow"><div><h3>评论</h3><div id=comment-loading style=text-align:center;font-size:14px><img style=width:52px src=/static/images/site/mona-loading-default.gif>
<span>正在加载评论......</span></div><script>function handleMessage(e){if(e.origin!=="https://giscus.app")return;if(typeof e.data!="object"||!e.data.giscus)return;const t=document.getElementById("comment-loading");t.style.display="none"}window.addEventListener("message",handleMessage)</script><script src=https://giscus.app/client.js data-repo=leileiluoluo/leileiluoluo.github.io data-repo-id=R_kgDOJkLT8w data-category=General data-category-id=DIC_kwDOJkLT884CdtEh data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN crossorigin=anonymous async></script></div></div></div></div></section><footer class="py-4 bg-lights border-top"><div class=container><div class="row justify-content-between text-center align-items-center"><div class="col-lg-4 text-center text-lg-left mb-4 mb-lg-0"></div><div class="col-lg-4 text-center mb-4 mb-lg-0"><ul class="list-inline mb-0"><li class=list-inline-item><a class="text-dark d-block p-2" href=https://leileiluoluo.github.io/sponsor>随喜打赏</a></li><li class=list-inline-item><a class="text-dark d-block p-2" href=https://leileiluoluo.github.io/about>关于本博</a></li><li class=list-inline-item><a class="text-dark d-block p-2" href=https://leileiluoluo.github.io/links>友情链接</a></li></ul></div><div class="col-lg-4 text-lg-right text-center mb-4 mb-lg-0"><ul class="list-inline social-icon mb-0"><li class=list-inline-item><a title=文章归档 href=/archives/><i class=ti-archive></i></a></li><li class=list-inline-item><a title=文章标签 href=/tags/><i class=ti-tag></i></a></li><li class=list-inline-item><a title="我的 GitHub" href=https://github.com/leileiluoluo><i class=ti-github></i></a></li><li class=list-inline-item><a title="网站 RSS" href=/index.xml><i class=ti-rss></i></a></li></ul></div></div><div style=text-align:center;font-size:18px;margin-bottom:22px><a style="-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(to right,#14100f,#d55b5b,#4d14e6)" href=https://www.boyouquan.com/planet-shuttle>「博友圈 · 星球穿梭」</a></div><div class="text-center mt-4"><span>Made with <a href=https://gohugo.io/>Hugo</a> | Theme by <a href=https://github.com/themefisher/northendlab-hugo>NorthendLab</a> | <a href=https://beian.miit.gov.cn>辽ICP备2022012085号-5</a> | Copyright © 2017-2024</span></div></div></footer><script>var indexURL="https://leileiluoluo.github.io/index.json"</script><script src=https://leileiluoluo.github.io/js/jquery.min.js></script><script src=https://leileiluoluo.github.io/js/bootstrap.min.js></script><script src=https://leileiluoluo.github.io/js/fuse.min.js></script><script src=https://leileiluoluo.github.io/js/mark.js></script><script src=https://leileiluoluo.github.io/js/search.js></script><script src=https://leileiluoluo.github.io/js/script.min.js></script></body></html>